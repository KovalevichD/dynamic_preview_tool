(this["webpackJsonpdynamic-preview-tool"]=this["webpackJsonpdynamic-preview-tool"]||[]).push([[0],{148:function(e,t,a){e.exports={footer:"FooterSection_footer__23cqz",logo:"FooterSection_logo__3UW7w",authorLink:"FooterSection_authorLink__Cdw7Q"}},207:function(e,t,a){},208:function(e,t,a){},310:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(28),s=a.n(i),o=(a(207),a(208),a(209),a(312)),c=a(26),l=a(30),u=a(315),d=a(5),p=u.a.Title,j=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{level:1,style:{textAlign:"center"},children:"Getting Started"}),Object(d.jsx)(p,{level:2,style:{textAlign:"center"},children:"Getting Started with GS"}),Object(d.jsx)(p,{level:3,style:{textAlign:"center"},children:"Getting Started with CSV"}),Object(d.jsx)(p,{level:4,style:{textAlign:"center"},children:"Getting Started with JSON"})]})},h=a(148),f=a.n(h),b=a.p+"static/media/logo_horizontal.694337ec.svg",O=o.a.Footer,m=function(){return Object(d.jsxs)(O,{className:f.a.footer,children:[Object(d.jsx)("img",{className:f.a.logo,src:b,alt:"Logo"}),Object(d.jsx)("div",{children:"Copyright \xa9 2021 The One Stone Inc."}),Object(d.jsxs)("div",{children:["Website designed and coded by ",Object(d.jsx)("a",{className:f.a.authorLink,href:"https://www.linkedin.com/in/dmitry-kovalevich/",children:"Dmitry Kovalevich"})]})]})},x=a(36),g=a(87),y=a(325),v=a(326),T=a(327),F=a(328),S=a(329),I=g.a.SubMenu,D=function(e){return Object(d.jsxs)(g.a,{style:{backgroundColor:"none"},mode:"horizontal",theme:"dark",children:[Object(d.jsx)(g.a.Item,{icon:Object(d.jsx)(y.a,{}),children:Object(d.jsx)(c.c,{to:"/uploadCreatives/",children:"LOAD YOUR CREATIVES"})},"2"),Object(d.jsxs)(I,{disabled:!e.isCreativesReady,icon:Object(d.jsx)(v.a,{}),title:"CREATE DC",children:[Object(d.jsx)(g.a.Item,{children:Object(d.jsx)(c.c,{to:"/uploadGs/step_0",children:"Upload Google Spreadsheets"})},"3"),Object(d.jsx)(g.a.Item,{children:"Upload CSV"},"4"),Object(d.jsx)(g.a.Item,{children:"Upload .json File"},"5")]},"sub1"),Object(d.jsx)(g.a.Item,{disabled:!e.isDataReady||!e.isCreativesReady,icon:Object(d.jsx)(T.a,{}),children:Object(d.jsx)(c.c,{to:"/getStaticVariations/",children:"GET ALL STATIC VARIATIONS"})},"6"),Object(d.jsx)(I,{disabled:!e.isDataReady||!e.isCreativesReady,icon:Object(d.jsx)(F.a,{}),title:"PREVIEW",children:Object(d.jsx)(g.a.Item,{children:"option9"},"7")},"sub3"),Object(d.jsxs)(I,{disabled:!e.isDataReady,icon:Object(d.jsx)(S.a,{}),title:"DATA",children:[Object(d.jsx)(g.a.Item,{children:"Get JSON File"},"8"),Object(d.jsx)(g.a.Item,{children:"Edit Data"},"9"),Object(d.jsx)(g.a.Item,{children:"Reset Data"},"10")]},"sub4")]})},L=function(e){return e.dynamicData.data},w=function(e){return e.dynamicData.listOfTypes},C=function(e){return e.dynamicData.data.length},_=function(e){return e.dynamicData.isDataReady},A=function(e){return e.dynamicData.snippets},E=function(e){return e.uploadCreatives.filesInFolders},N=function(e){return e.uploadCreatives.filesToUpload},k=function(e){return e.uploadCreatives.amountOfFilesToLoad},R=function(e){return e.uploadCreatives.isFetching},G=function(e){return e.uploadCreatives.uploadedFiles},U=function(e){return e.uploadCreatives.isCreativesReady},V=Object(x.b)((function(e){return{isDataReady:_(e),isCreativesReady:U(e)}}),null)(D),P=V,M=o.a.Header,z=function(e){return Object(d.jsx)(M,{style:{height:"50px",lineHeight:"50px"},children:Object(d.jsxs)("div",{style:{maxWidth:"990px",margin:"0 auto",height:"50px"},children:[Object(d.jsx)(c.c,{to:"/",children:Object(d.jsx)("div",{className:"logo"})}),Object(d.jsx)(P,{})]})})},Y=a(23),q=a.n(Y),H=a(32),W=a(44),B=a(17),J=a(88),Q=a.n(J),K=Q.a.create({headers:{"Content-Type":"application/json"}}),X=function(e){return K.post("/uploadGS/sheetInfo",{url:e})},Z=function(e,t){return K.post("/uploadGS/sheetData",{id:e,listOfSheets:t})},$=function(e){return Q.a.post("/uploadCreatives/upload",e,{headers:{"Content-Type":"multipart/form-data"}})},ee=function(){return Q.a.delete("/uploadCreatives/delete")},te=function(e){return Q.a.post("/createVariations/create",{snippets:e},{headers:{"Content-Type":"application/json"}})},ae=function(){return Q.a.get("/createVariations/download",{responseType:"blob"})},ne=function(){return Q.a.delete("/createVariations/delete")},re="automation-toolkit/uploadCreatives/ADD_FILE_TO_LOAD",ie="automation-toolkit/uploadCreatives/REMOVE_FILES_TO_LOAD",se="automation-toolkit/uploadCreatives/RESET_FILES",oe="automation-toolkit/uploadCreatives/SET_AMOUNT_OF_FILES_TO_LOAD",ce="automation-toolkit/uploadCreatives/TOGGLE_IS_FETCHING",le="automation-toolkit/uploadCreatives/ADD_FILES_UPLOADED_TO_SERVER",ue="automation-toolkit/uploadCreatives/TOGGLE_IS_CREATIVES_READY",de={filesInFolders:{},filesToUpload:[],uploadedFiles:{},amountOfFilesToLoad:null,isFetching:!1,isCreativesReady:!1},pe=function(){return{type:se}},je=function(e){return{type:ce,isFetching:e}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return de;case ue:return Object(B.a)(Object(B.a)({},e),{},{isCreativesReady:t.isReady});case le:return Object(B.a)(Object(B.a)({},e),{},{uploadedFiles:t.uploadedFiles});case re:var a=t.file.webkitRelativePath.split("/"),n=a[a.length-2],r=Object(B.a)({},e.filesInFolders);return r.hasOwnProperty(n)?r[n].push(t.file.name):r[n]=[t.file.name],Object(B.a)(Object(B.a)({},e),{},{filesInFolders:r,filesToUpload:[].concat(Object(W.a)(e.filesToUpload),[t.file])});case ie:var i=Object(B.a)({},e.filesInFolders);delete i[t.folderName];var s=e.filesToUpload,o=s.filter((function(e){return-1===e.webkitRelativePath.indexOf(t.folderName)})),c=0!==o.length?o.length:null;return Object(B.a)(Object(B.a)({},e),{},{filesInFolders:i,filesToUpload:o,amountOfFilesToLoad:c});case oe:return Object(B.a)(Object(B.a)({},e),{},{amountOfFilesToLoad:t.amountOfFiles});case ce:return Object(B.a)(Object(B.a)({},e),{},{isFetching:t.isFetching});default:return e}},fe=a(314),be=a(192),Oe=a(330),me=fe.a.Dragger,xe=u.a.Title,ge=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(xe,{level:4,style:{textAlign:"left",margin:"50px 0 0 40px"},children:"Get started with the app by uploading your creatives"}),Object(d.jsxs)(me,{name:"file",style:{margin:"40px auto",maxWidth:"90%"},accept:"image/*,.css,.js,.html,.woff2,.woff,.mp4,.ogv,.webp,.zip",showUploadList:!1,customRequest:function(t){t.file.webkitRelativePath!==t.file.name?e.addFileToLoad(t.file):be.b.error("".concat(t.file.name," file upload failed. Allowed only entire folder."))},onChange:function(t){t.file===t.fileList[t.fileList.length-1]&&e.setAmountOfFilesToLoad(t.fileList.length)},multiple:!0,directory:!0,children:[Object(d.jsx)("p",{className:"ant-upload-drag-icon",children:Object(d.jsx)(Oe.a,{})}),Object(d.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),Object(d.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files"})]})]})},ye=a(317),ve=a(197),Te=a(39),Fe=a(78),Se=a(318),Ie=a(321),De=a(332),Le=a(199),we=a(331),Ce=function(e){return Object(d.jsx)(we.a,{id:e.folder,twoToneColor:"#f5222d",style:{fontSize:"23px"},onClick:function(t){e.removeFilesToLoad(t.currentTarget.id),t.stopPropagation(),t.preventDefault()}})},_e=Se.a.Panel,Ae=function(e){for(var t=e.filesInFolders,a=[],n=0,r=Object.entries(t);n<r.length;n++){var i=Object(Fe.a)(r[n],2),s=i[0],o=i[1],c=Object(d.jsx)(_e,{header:Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(De.a,{style:{marginRight:"5px",fontSize:"30px",position:"relative",bottom:"-5px"}}),s]}),style:{fontWeight:"bold"},extra:0===Object.keys(e.uploadedFiles).length?Object(d.jsx)(Ce,{removeFilesToLoad:e.removeFilesToLoad,folder:s}):null,children:Object(d.jsx)(Ie.b,{size:"small",style:{fontWeight:"normal",marginLeft:"45px"},dataSource:o,renderItem:function(e){return Object(d.jsxs)(Ie.b.Item,{children:[Object(d.jsx)(Le.a,{style:{marginRight:"5px",fontSize:"18px",position:"relative",bottom:"-1px"}}),e]})}})},s);a.push(c)}return Object(d.jsx)(Se.a,{ghost:!0,accordion:!0,children:a})},Ee=a(110),Ne=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Te.a,{onClick:function(){ye.a.confirm({title:"Warning!",icon:Object(d.jsx)(Ee.a,{}),content:"You will lose the uploaded data",okText:"Continue",cancelText:"Cancel",onOk:function(){var t=Object(H.a)(q.a.mark((function t(){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.deleteFiles();case 3:return t.next=5,e.clearAllVariationsDirectory();case 5:ve.a.success({message:"Success!",description:"The data has been reset.",placement:"bottomRight"}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.toggleIsFetching(!1),ve.a.error({message:"Error!",description:"Couldn't delete the data. Please try again.",placement:"bottomRight"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()})},style:{margin:"20px 0 0 20px"},type:"primary",children:"UPLOAD AGAIN"}),Object(d.jsx)(Ae,{filesInFolders:e.uploadedFiles,uploadedFiles:e.uploadedFiles})]})},ke=a(324),Re=function(e){var t=Object(l.f)(),a=function(){var a=Object(H.a)(q.a.mark((function a(){return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.uploadFiles(e.filesToUpload);case 3:t.push("/uploadCreatives/result"),ve.a.success({message:"Success!",description:"Creatives have been successfully uploaded.",placement:"bottomRight"}),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),e.toggleIsFetching(!1),ve.a.error({message:"Error!",description:"Failed to upload files to the server. Please try again.",placement:"bottomRight"});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(ke.b,{style:{margin:"20px 0 0 20px"},children:[Object(d.jsx)(Te.a,{onClick:a,loading:e.isFetching,type:"primary",children:"UPLOAD TO THE SERVER"}),Object(d.jsx)(Te.a,{onClick:function(){return e.resetFiles()},type:"primary",ghost:!0,children:"REMOVE ALL"})]}),Object(d.jsx)(Ae,{filesInFolders:e.filesInFolders,removeFilesToLoad:e.removeFilesToLoad,uploadedFiles:e.uploadedFiles})]})},Ge=function(e){return Object(d.jsxs)(d.Fragment,{children:[e.filesToUpload.length!==e.amountOfFilesToLoad&&!e.isCreativesReady&&Object(d.jsx)(ge,{addFileToLoad:e.addFileToLoad,setAmountOfFilesToLoad:e.setAmountOfFilesToLoad}),e.isCreativesReady&&Object(d.jsx)(Ne,{filesInFolders:e.uploadedFiles,uploadedFiles:e.uploadedFiles,clearAllVariationsDirectory:e.clearAllVariationsDirectory,deleteFiles:e.deleteFiles,toggleIsFetching:e.toggleIsFetching}),0!==e.filesToUpload.length&&Object(d.jsx)(Re,{filesInFolders:e.filesInFolders,removeFilesToLoad:e.removeFilesToLoad,uploadedFiles:e.uploadedFiles,resetFiles:e.resetFiles,isFetching:e.isFetching,uploadFiles:e.uploadFiles,filesToUpload:e.filesToUpload,toggleIsFetching:e.toggleIsFetching})]})},Ue="automation-toolkit/createAllVariations/TOGGLE_IS_FETCHING_ALL_VARIATIONS",Ve="automation-toolkit/createAllVariations/TOGGLE_IS_VARIATIONS_CREATED",Pe="automation-toolkit/createAllVariations/SET_FILE_TO_DOWNLOAD_NAME",Me="automation-toolkit/createAllVariations/RESET_DATA_ALL_VARIATIONS",ze={isFetching:!1,isVariationsCreated:!1,fileToDownloadName:""},Ye=function(e){return{type:Ue,isFetching:e}},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return ze;case Ue:return Object(B.a)(Object(B.a)({},e),{},{isFetching:t.isFetching});case Ve:return Object(B.a)(Object(B.a)({},e),{},{isVariationsCreated:t.isVariationsCreated});case Pe:return Object(B.a)(Object(B.a)({},e),{},{fileToDownloadName:t.fileToDownloadName});default:return e}},He=a(136),We=function(e){return function(t){return Object(d.jsx)(He.a,{size:"large",spinning:t.isFetching,tip:"Loading...",children:Object(d.jsx)(e,Object(B.a)({},t))})}},Be=a(47),Je={addFileToLoad:function(e){return{type:re,file:e}},removeFilesToLoad:function(e){return{type:ie,folderName:e}},setAmountOfFilesToLoad:function(e){return{type:oe,amountOfFiles:e}},toggleIsFetching:je,resetFiles:pe,uploadFiles:function(e){return function(){var t=Object(H.a)(q.a.mark((function t(a){var n,r,i;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a(je(!0)),n=new FormData,r=0;r<e.length;r++)n.append("files",e[r]),n.append("webkitRelativePath",e[r].webkitRelativePath);return t.next=5,$(n);case 5:i=t.sent,a(pe()),a((s=i.data.uploadedFiles,{type:le,uploadedFiles:s})),a({type:ue,isReady:!0});case 9:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},deleteFiles:function(){return function(){var e=Object(H.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(je(!0)),e.next=3,ee();case 3:t(pe());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},clearAllVariationsDirectory:function(){return function(){var e=Object(H.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ye(!0)),e.next=3,ne();case 3:t({type:Me});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},Qe=Object(Be.c)(Object(x.b)((function(e){return{filesInFolders:E(e),filesToUpload:N(e),amountOfFilesToLoad:k(e),isFetching:R(e),uploadedFiles:G(e),isCreativesReady:U(e)}}),Je),We)(Ge),Ke=a(319),Xe=a(200),Ze=a(333),$e=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Ke.a,{status:"success",title:"Successfully Uploaded Creatives!",subTitle:"You have just successfully uploaded creatives to the system. Your uploaded creatives will be used to create all the variations and to preview the dynamic company in the future. Tip: Now you can upload and configure dynamic data.",extra:[Object(d.jsx)(c.b,{to:"/uploadCreatives",children:Object(d.jsxs)(Te.a,{type:"primary",children:[Object(d.jsx)(Xe.a,{}),"Show Uploaded Creatives"]})},"showCreatives"),Object(d.jsx)(c.b,{to:"/",children:Object(d.jsxs)(Te.a,{type:"primary",ghost:!0,children:[Object(d.jsx)(Ze.a,{}),"GO TO HOME PAGE"]})},"home")]})})},et=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/uploadCreatives",render:function(){return Object(d.jsx)(Qe,{})}}),Object(d.jsx)(l.b,{exact:!0,path:"/uploadCreatives/result",render:function(){return Object(d.jsx)($e,{})}})]})},tt=a(186),at=a.n(tt),nt=u.a.Text,rt=function(e){var t=function(){var e=Object(H.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ae();case 3:t=e.sent,at()(t.data,"creatives.zip"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ve.a.error({message:"Error!",description:"Failed to download an archive. Please try again.",placement:"bottomRight"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)(ke.b,{children:[Object(d.jsx)(nt,{strong:!0,children:e.fileToDownloadName}),Object(d.jsx)(Te.a,{type:"primary",onClick:t,children:"DOWNLOAD"})]})},it=u.a.Text,st=function(e){var t=Object.keys(e.creatives).length,a=e.snippets.size,n=e.snippets.size*t,r=function(){var t=Object(H.a)(q.a.mark((function t(){var a;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=Object.fromEntries(e.snippets),t.next=4,e.createAllVariations(a);case 4:ve.a.success({message:"Success!",description:"All creative variations have been created.",placement:"bottomRight"}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.toggleIsFetching(!1),ve.a.error({message:"Error!",description:"Failed to create all variations. Please try again.",placement:"bottomRight"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(d.jsxs)(ke.b,{direction:"vertical",children:[Object(d.jsxs)(it,{strong:!0,children:["You uploaded ",t," sizes."]}),Object(d.jsxs)(it,{strong:!0,children:["The number of all static variations is ",a]}),Object(d.jsxs)(it,{strong:!0,children:["The number of all creatives is ",n]}),Object(d.jsx)(Te.a,{type:"primary",onClick:r,children:"MAKE ALL VARIATIONS"}),e.isVariationsCreated&&Object(d.jsx)(rt,{fileToDownloadName:e.fileToDownloadName})]})},ot=function(e){return function(t){return t.isNoData?Object(d.jsx)(e,Object(B.a)({},t)):Object(d.jsx)(l.a,{to:"/"})}},ct=function(e){return e.createAllVariations.isFetching},lt=function(e){return e.createAllVariations.isVariationsCreated},ut=function(e){return e.createAllVariations.fileToDownloadName},dt={createAllVariations:function(e){return function(){var t=Object(H.a)(q.a.mark((function t(a){var n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(Ye(!0)),t.next=3,te(e);case 3:n=t.sent,a(Ye(!1)),a((r=n.data.fileName,{type:Pe,fileToDownloadName:r})),a({type:Ve,isVariationsCreated:!0});case 7:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleIsFetching:Ye},pt=Object(Be.c)(Object(x.b)((function(e){return{snippets:A(e),creatives:G(e),isFetching:ct(e),isVariationsCreated:lt(e),fileToDownloadName:ut(e),isNoData:_(e)&&U(e)}}),dt),We,ot)(st),jt=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(l.b,{exact:!0,path:"/getStaticVariations",render:function(){return Object(d.jsx)(pt,{})}})})},ht=a(313),ft=a(320),bt=a(322),Ot=a(109),mt=Ot.a.Option,xt=function(e){var t=e.listOfTypes.map((function(e){return Object(d.jsx)(mt,{value:e,children:e},e)}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Ot.a,{defaultValue:e.defaultTypes[e.rowIndex],style:{width:120},onChange:function(t){var a={rowIndex:e.rowIndex,elementIndex:e.sheetIndex,typeValue:t};e.setType(a)},children:t})})},gt=u.a.Paragraph,yt=function(e){return Object(d.jsx)(gt,{editable:{tooltip:"Edit element name",onChange:function(t){return e.updateSheetName(e.index,t)}},children:e.elementName})},vt=a(316),Tt=u.a.Paragraph,Ft=function(e){return Object(d.jsxs)("div",{style:{display:"flex"},children:[Object(d.jsx)(Tt,{children:"Quantity:"}),Object(d.jsx)(vt.a,{min:1,max:e.dataLength-1,value:e.quantity,onChange:function(t){e.setQuantity(e.index,t)}})]})},St=function(e,t,a){var n,r,i=[e],s=new Set;for(s.add(e);i.length<t;){var o=(n=1,r=a,n=Math.ceil(n),r=Math.floor(r),Math.floor(Math.random()*(r-n+1))+n);s.has(o)||i.push(o),s.add(o)}return i},It=function(e,t){if("undefined"===typeof e)return"";try{switch(t){case"Boolean":if("true"===e.toLowerCase()||"false"===e.toLowerCase())return"true"===e.toLowerCase();throw new Error("The value is not a boolean");case"Exit URL":case"Image URL":return{Url:e};case"DateTime":var a=e.split(" "),n=a[0].split("/"),r="".concat(n[2],"-").concat(n[0],"-").concat(n[1])+"T".concat(a[1])+a[2].substring(1,a[2].length-1);return{RawValue:e,UtcValue:Date.parse(r)};default:return e}}catch(i){return e}},Dt=function(e){var t=new Map,a=e.length-1;return function n(r,i,s){for(var o=0;o<e[s].length;o++){var c=i,l=JSON.parse(JSON.stringify(r)),u=e[s][o].elementName,d=e[s][o].dynamicData,p=e[s][o].uniqueString;l[u]=d,c+="|".concat(p),s===a?t.set(c,l):n(l,c,s+1)}}({},"",0),t},Lt=function(e){var t=[];return e.forEach((function(e){for(var a=e.data[0],n=e.elementName,r=e.quantity,i=e.selectedTypes,s=[],o=1;o<e.data.length;o++){for(var c={dynamicData:[],uniqueString:"",elementName:n},l=St(o,r,e.data.length-1),u=0;u<r;u++){for(var d={},p=l[u],j=0;j<i.length;j++){var h=e.data[p][j],f=i[j];d[a[j]]=It(h,f)}c.dynamicData.push(d)}c.uniqueString="".concat(n,"(").concat(e.data[o][0],")"),s.push(c)}t.push(s)})),Dt(t)},wt=u.a.Title,Ct=function(e){var t=Object(n.useState)(""),a=Object(Fe.a)(t,2),r=a[0],i=a[1],s=Object(n.useRef)(null),o=e.data,l=[],u=[];o.forEach((function(t,a){for(var n=[],r=0;r<t.data[0].length;r++){var i={sheetName:t.sheetName,key:"".concat(t.sheetName,"_").concat(t.data[0][r],"_").concat(t.data[1][r]),"Field Name":t.data[0][r],"Field Type":"","Sample Value":t.data[1][r]};n.push(i)}l.push(n);var s=[{title:"Field Name",dataIndex:"Field Name",key:"Field Name"},{title:"Field Type",dataIndex:"Field Type",key:"Field Type",render:function(t,n,r){return Object(d.jsx)(xt,{setType:e.setType,listOfTypes:e.listOfTypes,sheetName:n.sheetName,defaultTypes:o[a].selectedTypes,rowIndex:r,sheetIndex:a})}},{title:"Sample Value",dataIndex:"Sample Value",key:"Sample Value"}];u.push(s)}));var p=l.map((function(t,a){return Object(d.jsx)(ht.a,{bordered:!0,title:function(){return Object(d.jsx)(yt,{updateSheetName:e.updateElementName,elementName:o[a].elementName,index:a})},footer:function(){return Object(d.jsx)(Ft,{setQuantity:e.setQuantity,dataLength:o[a].data.length,quantity:o[a].quantity,index:a})},size:"small",pagination:!1,style:{marginBottom:"45px"},columns:u[a],dataSource:t},a)}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(wt,{level:4,style:{textAlign:"left",marginTop:"50px"},children:"Specify the dynamic ID"}),Object(d.jsx)(ft.a,{ref:s,onChange:function(e){return i(e.target.value)},allowClear:!0,value:r,placeholder:"Dynamic ID",style:{width:"50%"}}),Object(d.jsx)(wt,{level:4,style:{textAlign:"left",marginTop:"50px",marginBottom:"20px"},children:"Choose field type for each property"}),p,Object(d.jsx)(c.b,{to:"/uploadGs/result",children:Object(d.jsx)(Te.a,{onClick:function(){e.setDataReadyFlag(!0),e.setDynamicId(r);var t=Lt(e.data);e.addCodeSnippets(t),ve.a.success({message:"Success!",description:"Dynamic snippets have been created.",placement:"bottomRight"})},type:"primary",children:"BUILD DATA"})}),Object(d.jsx)(bt.a,{})]})},_t="automation-toolkit/dynamicData/ADD_CODE_SNIPPETS",At="automation-toolkit/dynamicData/SET_DATA_READY_FLAG",Et="automation-toolkit/dynamicData/ADD_DATA",Nt="automation-toolkit/dynamicData/SET_TYPE",kt="automation-toolkit/dynamicData/SET_QUANTITY",Rt="automation-toolkit/dynamicData/UPDATE_ELEMENT_NAME",Gt="automation-toolkit/dynamicData/RESET_DATA_DYN_DATA",Ut="automation-toolkit/dynamicData/SET_DYNAMIC_ID",Vt={isDataReady:!1,listOfTypes:["Text","Boolean","Exit URL","Image URL","DateTime"],snippets:null,data:[],dynamicId:""},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut:return Object(B.a)(Object(B.a)({},e),{},{dynamicId:t.id});case Gt:return Vt;case Et:var a=[];return t.data.forEach((function(e){var t={elementName:e.element,quantity:1,selectedTypes:Array(e.data[0].length).fill("text"),data:e.data};a.push(t)})),Object(B.a)(Object(B.a)({},e),{},{data:a});case Nt:var n=Object(W.a)(e.data[t.typeInfo.elementIndex].selectedTypes);return n[t.typeInfo.rowIndex]=t.typeInfo.typeValue,Object(B.a)(Object(B.a)({},e),{},{data:[].concat(Object(W.a)(e.data.slice(0,t.typeInfo.elementIndex)),[Object(B.a)(Object(B.a)({},e.data[t.typeInfo.elementIndex]),{},{selectedTypes:Object(W.a)(n)})],Object(W.a)(e.data.slice(t.typeInfo.elementIndex+1)))});case kt:return Object(B.a)(Object(B.a)({},e),{},{data:[].concat(Object(W.a)(e.data.slice(0,t.index)),[Object(B.a)(Object(B.a)({},e.data[t.index]),{},{quantity:t.quantity})],Object(W.a)(e.data.slice(t.index+1)))});case Rt:return Object(B.a)(Object(B.a)({},e),{},{data:[].concat(Object(W.a)(e.data.slice(0,t.index)),[Object(B.a)(Object(B.a)({},e.data[t.index]),{},{elementName:t.newElementName})],Object(W.a)(e.data.slice(t.index+1)))});case _t:return Object(B.a)(Object(B.a)({},e),{},{snippets:t.dataMap});case At:return Object(B.a)(Object(B.a)({},e),{},{isDataReady:t.flag});default:return e}},Mt=Object(x.b)((function(e){return{data:L(e),listOfTypes:w(e)}}),{addCodeSnippets:function(e){return{type:_t,dataMap:e}},setDataReadyFlag:function(e){return{type:At,flag:e}},setType:function(e){return{type:Nt,typeInfo:e}},setQuantity:function(e,t){return{type:kt,index:e,quantity:t}},updateElementName:function(e,t){return{type:Rt,index:e,newElementName:t}},setDynamicId:function(e){return{type:Ut,id:e}}})(Ct),zt=a(334),Yt=u.a.Title,qt=u.a.Paragraph,Ht=u.a.Link,Wt=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(Yt,{level:4,style:{textAlign:"left",marginTop:"50px"},children:["You have already provided a link to the spreadsheet",Object(d.jsx)(zt.a,{style:{fontSize:"25px",color:"#52c41a",marginLeft:"8px"}})]}),Object(d.jsxs)(qt,{children:["You are currently working with a ",Object(d.jsx)(Ht,{href:e.spreadsheetUrl,strong:!0,target:"_blank",children:e.spreadsheetName}),"spreadsheet."]}),Object(d.jsx)(Te.a,{onClick:function(){ye.a.confirm({title:"Warning!",icon:Object(d.jsx)(Ee.a,{}),content:"You will lose the downloaded data",okText:"Continue",cancelText:"Cancel",onOk:function(){e.resetData(),e.resetGsData(),be.b.success("The data has been reset!")}})},type:"primary",children:"Change the spreadsheet"})]})},Bt=u.a.Title,Jt=function(e){var t=Object(l.f)(),a=function(){var a=Object(H.a)(q.a.mark((function a(){return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.getSheetList(e.urlInputText);case 3:ve.a.success({message:"Success!",description:"The list of sheets in the spreadsheet is loaded successfully.",placement:"bottomRight"}),t.push("/uploadGs/step_1"),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),e.toggleIsFetching(!1),ve.a.error({message:"Error!",description:"Failed to upload files to the server. Please try again.",placement:"bottomRight"});case 11:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Bt,{level:4,style:{textAlign:"left",marginTop:"50px"},children:"Select the content source data file you want to transform."}),Object(d.jsx)(ft.a,{onChange:function(t){return e.updateUrlInputText(t.target.value)},allowClear:!0,value:e.urlInputText,placeholder:"Spreadsheet URL",style:{width:"50%"}}),Object(d.jsx)(Te.a,{onClick:a,disabled:!e.urlInputText,type:"primary",style:{marginLeft:"20px"},children:"LOAD SPREADSHEET"})]})},Qt=function(e){var t=Object(n.useState)(e.spreadsheetName),a=Object(Fe.a)(t,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){i(e.spreadsheetName)}),[e.spreadsheetName]),Object(d.jsx)(d.Fragment,{children:r?Object(d.jsx)(Wt,{spreadsheetName:e.spreadsheetName,spreadsheetUrl:e.spreadsheetUrl,resetData:e.resetData,resetGsData:e.resetGsData}):Object(d.jsx)(Jt,{urlInputText:e.urlInputText,toggleIsFetching:e.toggleIsFetching,getSheetList:e.getSheetList,updateUrlInputText:e.updateUrlInputText})})},Kt="automation-toolkit/uploadGS/ADD_LIST_OF_SHEETS_TO_UPLOAD",Xt="automation-toolkit/uploadGS/UPDATE_URL_INPUT_TEXT",Zt="automation-toolkit/uploadGS/TOGGLE_IS_FETCHING_UPLOAD_GS",$t="automation-toolkit/uploadGS/RESET_DATA",ea="automation-toolkit/uploadGS/SET_SHEET_INFO",ta={urlInputText:"",spreadsheetUrl:null,spreadsheetName:null,spreadsheetId:null,isFetching:!1,totalListOfSheets:[],listOfSheetsToUpload:[]},aa=function(e){return{type:Zt,isFetching:e}},na=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $t:return ta;case Kt:return Object(B.a)(Object(B.a)({},e),{},{listOfSheetsToUpload:Object(W.a)(t.listToUpload)});case Xt:return Object(B.a)(Object(B.a)({},e),{},{urlInputText:t.newText});case Zt:return Object(B.a)(Object(B.a)({},e),{},{isFetching:t.isFetching});case ea:return Object(B.a)(Object(B.a)({},e),{},{urlInputText:"",spreadsheetId:t.info.spreadsheetId,spreadsheetName:t.info.spreadsheetName,spreadsheetUrl:t.info.spreadsheetUrl,listOfSheetsToUpload:Object(W.a)(t.info.listOfSheets),totalListOfSheets:Object(W.a)(t.info.listOfSheets)});default:return e}},ra=function(e){return e.uploadGS.totalListOfSheets.length},ia=function(e){return e.uploadGS.totalListOfSheets},sa=function(e){return e.uploadGS.urlInputText},oa=function(e){return e.uploadGS.isFetching},ca=function(e){return e.uploadGS.spreadsheetName},la=function(e){return e.uploadGS.spreadsheetUrl},ua=function(e){return e.uploadGS.listOfSheetsToUpload},da=function(e){return e.uploadGS.spreadsheetId},pa={resetGsData:function(){return{type:$t}},updateUrlInputText:function(e){return{type:Xt,newText:e}},resetData:function(){return{type:Gt}},toggleIsFetching:aa,getSheetList:function(e){return function(){var t=Object(H.a)(q.a.mark((function t(a){var n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(aa(!0)),t.next=3,X(e);case 3:n=t.sent,a((r=n.data.spreadsheetInfo,{type:ea,info:r})),a(aa(!1));case 6:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()}},ja=Object(Be.c)(Object(x.b)((function(e){return{urlInputText:sa(e),isFetching:oa(e),spreadsheetName:ca(e),spreadsheetUrl:la(e)}}),pa),We)(Qt),ha=Ot.a.Option,fa=u.a.Title,ba=function(e){var t=Object(n.useState)(!1),a=Object(Fe.a)(t,2),r=a[0],i=a[1],s=e.totalListOfSheets,o=e.listOfSheetsToUpload,c=s.map((function(e){return Object(d.jsx)(ha,{value:e,children:e},e)})),u=Object(l.f)(),p=function(){var t=Object(H.a)(q.a.mark((function t(){return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getSheetsData(e.spreadsheetId,e.listOfSheetsToUpload);case 3:ve.a.success({message:"Success!",description:"The spreadsheet data is loaded successfully.",placement:"bottomRight"}),u.push("/uploadGs/step_2"),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e.toggleIsFetching(!1),ve.a.error({message:"Error!",description:"Failed to load data from the spreadsheet. Please try again.",placement:"bottomRight"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(fa,{level:4,style:{textAlign:"left",marginTop:"50px"},children:"Choose sheets you want to upload."}),Object(d.jsx)(Ot.a,{mode:"multiple",allowClear:!0,style:{width:"50%"},placeholder:"Please select at least one sheet to upload",defaultValue:o,onChange:function(t){t.length<=0?i(!0):i(!1),e.addListOfSheetsToUpload(t)},children:c}),Object(d.jsx)(Te.a,{type:"primary",onClick:p,disabled:r,style:{marginLeft:"20px"},children:"LOAD SHEETS"})]})},Oa={addListOfSheetsToUpload:function(e){return{type:Kt,listToUpload:e}},getSheetsData:function(e,t){return function(){var a=Object(H.a)(q.a.mark((function a(n){var r;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(aa(!0)),a.next=3,Z(e,t);case 3:r=a.sent,n(aa(!1)),n((i=r.data.sheetsData,{type:Et,data:i}));case 6:case"end":return a.stop()}var i}),a)})));return function(e){return a.apply(this,arguments)}}()}},ma=Object(Be.c)(Object(x.b)((function(e){return{totalListOfSheets:ia(e),listOfSheetsToUpload:ua(e),spreadsheetId:da(e),isFetching:oa(e)}}),Oa),We)(ba),xa=a(323),ga=a(335),ya=a(336),va=a(337),Ta=a(56),Fa=a.n(Ta),Sa=xa.a.Step,Ia=function(e){var t=e.totalListOfSheetsLength?"":Fa.a.disabled,a=e.sheetDataLength?"":Fa.a.disabled;return Object(d.jsxs)(xa.a,{type:"navigation",current:+e.match.params.step,responsive:!0,children:[Object(d.jsx)(Sa,{title:Object(d.jsx)(c.c,{activeClassName:Fa.a.selected,className:Fa.a.title,to:"/uploadGs/step_0",children:"Load spreadsheet info"}),icon:Object(d.jsx)(c.c,{className:Fa.a.icon,to:"/uploadGs/step_0",children:Object(d.jsx)(ga.a,{})})}),Object(d.jsx)(Sa,{disabled:!e.totalListOfSheetsLength,title:Object(d.jsx)(c.c,{activeClassName:Fa.a.selected,className:"".concat(Fa.a.title," ").concat(t),to:"/uploadGs/step_1",children:"Choose sheets to load"}),icon:Object(d.jsx)(c.c,{className:"".concat(Fa.a.icon," ").concat(t),to:"/uploadGs/step_1",children:Object(d.jsx)(ya.a,{})})}),Object(d.jsx)(Sa,{disabled:!e.sheetDataLength,title:Object(d.jsx)(c.c,{activeClassName:Fa.a.selected,className:"".concat(Fa.a.title," ").concat(a),to:"/uploadGs/step_2",children:"Set up the code snippet"}),icon:Object(d.jsx)(c.c,{className:"".concat(Fa.a.icon," ").concat(a),to:"/uploadGs/step_2",children:Object(d.jsx)(va.a,{})})})]})},Da=Object(l.g)(Ia),La=Object(x.b)((function(e){return{totalListOfSheetsLength:ra(e),sheetDataLength:C(e)}}),null)(Da),wa=a(198),Ca=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(Ke.a,{status:"success",title:"Successfully Built Dynamic Snippets!",subTitle:"Now you can get static versions of your dynamic creatives. You can also view all versions in the Preview section.",extra:[Object(d.jsxs)(Te.a,{type:"primary",children:[Object(d.jsx)(Xe.a,{}),"GET JSON"]},"console"),Object(d.jsxs)(Te.a,{type:"primary",ghost:!0,children:[Object(d.jsx)(wa.a,{}),"EDIT DATA"]},"buy")]})})},_a=function(){return Object(d.jsxs)("div",{style:{maxWidth:"960px",margin:"0 auto",paddingTop:"24px"},children:[Object(d.jsx)(l.b,{path:"/uploadGs/step_:step?",render:function(){return Object(d.jsx)(La,{})}}),Object(d.jsx)(l.b,{exact:!0,path:"/uploadGs/step_0",render:function(){return Object(d.jsx)(ja,{})}}),Object(d.jsx)(l.b,{exact:!0,path:"/uploadGs/step_1",render:function(){return Object(d.jsx)(ma,{})}}),Object(d.jsx)(l.b,{exact:!0,path:"/uploadGs/step_2",render:function(){return Object(d.jsx)(Mt,{})}}),Object(d.jsx)(l.b,{exact:!0,path:"/uploadGs/result",render:function(){return Object(d.jsx)(Ca,{})}})]})},Aa=Object(Be.c)(Object(x.b)((function(e){return{isNoData:U(e)}}),{}),ot)(_a),Ea=o.a.Content;var Na=function(){return Object(d.jsx)(c.a,{children:Object(d.jsxs)(o.a,{style:{minHeight:"100vh"},children:[Object(d.jsx)(z,{}),Object(d.jsxs)(Ea,{className:"main-content",style:{width:"990px",margin:"0 auto"},children:[Object(d.jsx)(l.b,{exact:!0,path:"/",render:function(){return Object(d.jsx)(j,{})}}),Object(d.jsx)(l.b,{path:"/uploadGs",render:function(){return Object(d.jsx)(Aa,{})}}),Object(d.jsx)(l.b,{path:"/uploadCreatives",render:function(){return Object(d.jsx)(et,{})}}),Object(d.jsx)(l.b,{path:"/getStaticVariations",render:function(){return Object(d.jsx)(jt,{})}})]}),Object(d.jsx)(m,{})]})})},ka=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,338)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))},Ra=a(188),Ga=Object(Be.b)({dynamicData:Pt,uploadGS:na,uploadCreatives:he,createAllVariations:qe}),Ua=Object(Be.d)(Ga,Object(Be.a)(Ra.a));window.store=Ua,s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(x.a,{store:Ua,children:Object(d.jsx)(Na,{})})}),document.getElementById("root")),ka()},56:function(e,t,a){e.exports={title:"Progress_title__3fLUr",icon:"Progress_icon__23tgs",selected:"Progress_selected__cDMzC",disabled:"Progress_disabled__3LbJr"}}},[[310,1,2]]]);
//# sourceMappingURL=main.1f09bd10.chunk.js.map